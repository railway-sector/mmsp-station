"use strict";(self.webpackChunkmmsp_station=self.webpackChunkmmsp_station||[]).push([[27040],{27040:(e,t,n)=>{n.r(t),n.d(t,{createMesh:()=>u});var a=n(50076),r=n(25213),s=n(45308),o=n(42294),i=n(14894),l=n(56623),c=n(45136),d=n(95799);function u(e){const t=new d.O,n=e.spatialReference??e.layerView.view.spatialReference;return t.externalSources.add({extent:e.extent??f(e,n),source:{type:"loadable",load:t=>async function(e,t){let{layerView:n,nodeIndex:r,featureIndex:o}=t;const i=n.getNodeComponentHandle(r);if(!i?.intersectionGeometry)throw new a.A("i3s-layer-view-geometry-missing","Cannot load mesh because scene layer view data is no longer available.");const d={indices:null,data:null,stride:0,startIndex:0,endIndex:0};i.intersectionGeometry.getComponentPositions(o,d);const{indices:u,data:f,stride:p,startIndex:w,endIndex:m}=d,x=new Float64Array(3*(m-w));let y=0;for(let a=w;a<m;a+=3){const e=p*u[a],t=p*u[a+1],n=p*u[a+2];x[y++]=f[e],x[y++]=f[e+1],x[y++]=f[e+2],x[y++]=f[t],x[y++]=f[t+1],x[y++]=f[t+2],x[y++]=f[n],x[y++]=f[n+1],x[y++]=f[n+2]}const v=i.transform;(0,c.b)(x,x,v.rotationScale),(0,c.a)(x,x,v.position),(0,s.projectBuffer)(x,n.view.renderSpatialReference,0,x,e.spatialReference,0),e.vertexAttributes=new l.H({position:x})}(t,e)}}),new r.default({metadata:t,vertexSpace:new i.A,spatialReference:n})}function f(e,t){let{layerView:n,nodeIndex:a,featureIndex:r}=e;const i=n.getAABB(a,r);if(!i)return null;const l=n.view.spatialReference;return l.equals(t)||(0,s.projectBuffer)(i,l,0,i,t,0),(0,o.w1)(i,t)}}}]);
//# sourceMappingURL=27040.f1a726b5.chunk.js.map