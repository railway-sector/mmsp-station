{"version":3,"file":"static/js/68383.05294ad4.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/graphic/isBuildingGraphicOrigin.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingGroupSublayer.js","../node_modules/@arcgis/core/layers/buildingSublayers/utils.js","../node_modules/@arcgis/core/graphic/BuildingGraphicOrigin.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSublayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/i3s/BuildingFilterUtil.js","../node_modules/@arcgis/core/views/layers/BuildingComponentSublayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingComponentSublayerView3D.js","../node_modules/@arcgis/core/views/layers/BuildingSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/BuildingSceneLayerView3D.js","../node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nconst i=Symbol(\"isBuildingGraphicOrigin\");function n(n){return!!n&&i in n}export{n as isBuildingGraphicOrigin,i as isBuildingGraphicOriginSymbol};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../core/Collection.js\";import{loadAllChildren as o}from\"../../core/loadAll.js\";import s from\"../../core/Warning.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import n from\"./BuildingComponentSublayer.js\";import u from\"./BuildingSublayer.js\";import{forEachBuildingSublayer as l}from\"./utils.js\";const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:\"sublayers\",reader:a}}},read:!1}};function a(r,o,t){if(r&&Array.isArray(r))return new e(r.map(r=>{const e=c(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s(\"building-scene-layer:unsupported-sublayer-type\",\"Building scene sublayer of type '\"+(r.type||\"unknown\")+\"' are not supported\",{definition:r,context:t})),null}))}function c(r){return\"group\"===r.layerType?d:n}let d=class extends u{constructor(r){super(r),this.type=\"building-group\",this.listMode=\"show\",this.sublayers=null}loadAll(){return o(this,r=>l(this.sublayers,e=>{\"building-group\"!==e.type&&r(e)}))}static{this.sublayersProperty=p}static{this.readSublayers=a}};r([t({type:[\"hide\",\"show\",\"hide-children\"],json:{write:!0}})],d.prototype,\"listMode\",void 0),r([t(p)],d.prototype,\"sublayers\",void 0),d=r([i(\"esri.layers.buildingSublayers.BuildingGroupSublayer\")],d);export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nfunction o(r,u){r.forEach(r=>{u(r),\"building-group\"===r.type&&o(r.sublayers,u)})}export{o as forEachBuildingSublayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{idFieldsProviderSymbol as r}from\"./getIdFieldsProvider.js\";import{popupProviderSymbol as e}from\"./getPopupProvider.js\";import{getSliceableContainerSymbol as t}from\"./getSliceableContainer.js\";import i from\"./GraphicOrigin.js\";import{isBuildingGraphicOriginSymbol as s}from\"./isBuildingGraphicOrigin.js\";var a;class o extends i{get[(a=s,e)](){return this.sublayer}get[r](){return this.sublayer}get[t](){return this.sublayer}constructor(r){super(),this[a]=!0,this.type=\"building\",this.sublayer=r}get layer(){return this.sublayer.layer}get id(){return`${this.layer.id}:__${this.sublayer.id}__`}}export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import t from\"../../Graphic.js\";import r from\"../../PopupTemplate.js\";import o from\"../../request.js\";import s from\"../../core/Error.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{LoadableMixin as a}from\"../../core/Loadable.js\";import n from\"../../core/Logger.js\";import{EsriPromiseMixin as p}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{enumeration as y}from\"../../core/accessorSupport/decorators/enumeration.js\";import{reader as u}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as d}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../../geometry/Extent.js\";import h from\"../../geometry/SpatialReference.js\";import m from\"../../graphic/BuildingGraphicOrigin.js\";import f from\"../FeatureLayer.js\";import g from\"./BuildingSublayer.js\";import{zeroCapabilities as j}from\"../support/capabilities.js\";import{popupEnabled as v}from\"../support/commonProperties.js\";import{getFieldDomain as b}from\"../support/featureLayerUtils.js\";import{defineFieldProperties as L}from\"../support/fieldProperties.js\";import I from\"../support/FieldsIndex.js\";import{unpackFieldNames as S}from\"../support/fieldUtils.js\";import{fetchIndexInfo as F}from\"../support/I3SIndexInfo.js\";import{I3SNodePageDefinition as O,I3SMaterialDefinition as w,I3STextureSetDefinition as x,I3SGeometryDefinition as P}from\"../support/I3SLayerDefinitions.js\";import{webSceneRendererTypes as q}from\"../../renderers/support/typeUtils.js\";import T from\"../../rest/support/Query.js\";import{isNumber as Q}from\"../../support/guards.js\";import{createPopupTemplate as U}from\"../../support/popupUtils.js\";import E from\"../../symbols/support/ElevationInfo.js\";import{queryAttributesFromCachedAttributesId as D}from\"../../views/3d/layers/i3s/I3SUtil.js\";import{getRequiredFields as R,getFetchPopupTemplate as A}from\"../../views/layers/support/popupUtils.js\";const _=L();let C=class extends(a(p(g))){constructor(e){super(e),this.type=\"building-component\",this.nodePages=null,this.materialDefinitions=[],this.textureSetDefinitions=[],this.geometryDefinitions=[],this.indexInfo=null,this.serviceUpdateTimeStamp=null,this.store=null,this.attributeStorageInfo=[],this.fields=[],this.associatedLayer=null,this.outFields=null,this.listMode=\"show\",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType=\"3d-object\"}initialize(){this._set(\"graphicOrigin\",new m(this))}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl?.path}/sublayers/${this.id}`,query:this.layer.parsedUrl?.query}:{path:\"\"}}get fieldsIndex(){return new I(this.fields)}readAssociatedLayer(e,t){const r=this.layer.associatedFeatureServiceItem,o=t.associatedLayerID;return null!=r&&\"number\"==typeof o?new f({portalItem:r,customParameters:this.customParameters,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if(\"oid\"===e.type)return e.name;return\"\"}get globalIdField(){if(null!=this.fields)for(const e of this.fields)if(\"global-id\"===e.type)return e.name;return\"\"}get displayField(){return null!=this.associatedLayer?this.associatedLayer.displayField:void 0}get apiKey(){return this.layer.apiKey}get customParameters(){return this.layer.customParameters}get fullExtent(){return this.layer.fullExtent}get spatialReference(){return this.layer.spatialReference}get version(){return this.layer.version}get elevationInfo(){return this.layer.elevationInfo}get minScale(){return this.layer.minScale}get maxScale(){return this.layer.maxScale}get effectiveScaleRange(){return this.layer.effectiveScaleRange}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const t=null!=e?e.signal:null,r=this._fetchService(t).then(()=>{this.indexInfo=F(this.parsedUrl.path,this.rootNode,this.nodePages,this.customParameters,this.apiKey,n.getLogger(this),t)});return this.addResolvingPromise(r),Promise.resolve(this)}createPopupTemplate(e){return U(this,e)}async _fetchService(e){const t=(await o(this.parsedUrl.path,{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e})).data;this.read(t,{origin:\"service\",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){const r=this.getField(e)?.domain??null;return this.associatedLayer?b(this.associatedLayer,e,t,r):r}getFeatureType(e){return e&&null!=this.associatedLayer?this.associatedLayer.getFeatureType(e):null}get types(){return null!=this.associatedLayer?this.associatedLayer.types??[]:[]}get typeIdField(){return null!=this.associatedLayer?this.associatedLayer.typeIdField:null}get geometryType(){return\"3d-object\"===this.layerType?\"mesh\":\"point\"}get profile(){return\"3d-object\"===this.layerType?\"mesh-pyramids\":\"points\"}get capabilities(){const e=null!=this.associatedLayer&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:j,{query:t,operations:{supportsQuery:r},data:{supportsZ:o,supportsM:s,isVersioned:i}}=e;return{query:t,operations:{supportsQuery:r},data:{supportsZ:o,supportsM:s,isVersioned:i}}}createQuery(){const e=new T;return\"mesh\"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||\"1=1\",e.sqlFormat=\"standard\",e}queryExtent(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryExtent(e||this.createQuery(),t))}queryFeatureCount(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryFeatureCount(e||this.createQuery(),t))}queryFeatures(e,t){return this._getAssociatedLayerForQuery().then(r=>r.queryFeatures(e||this.createQuery(),t)).then(e=>{if(e?.features)for(const t of e.features)t.layer=this.layer,t.sourceLayer=this,t.origin=this.graphicOrigin;return e})}async queryObjectIds(e,t){const r=await this._getAssociatedLayerForQuery();return(await r.queryObjectIds(e||this.createQuery(),t)).filter(Q)}async queryCachedAttributes(e,t){const r=S(this.fieldsIndex,await R(this,A(this)));return D(this.parsedUrl.path,this.attributeStorageInfo,e,t,r,this.apiKey,this.customParameters)}async queryCachedFeature(e,r){const o=await this.queryCachedAttributes(e,[r]);if(!o||0===o.length)throw new s(\"scenelayer:feature-not-in-cached-data\",\"Feature not found in cached data\");return new t({attributes:o[0],layer:this,sourceLayer:this})}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:null!=this.associatedLayer}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return null!=e&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),null==this.associatedLayer)throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer component layer queries are not available without an associated feature layer\",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new s(\"buildingscenelayer:query-not-available\",\"BuildingSceneLayer associated feature layer could not be loaded\",{layer:this,error:e})}return this.associatedLayer}};e([l({readOnly:!0})],C.prototype,\"parsedUrl\",null),e([l({type:O,readOnly:!0})],C.prototype,\"nodePages\",void 0),e([l({type:[w],readOnly:!0})],C.prototype,\"materialDefinitions\",void 0),e([l({type:[x],readOnly:!0})],C.prototype,\"textureSetDefinitions\",void 0),e([l({type:[P],readOnly:!0})],C.prototype,\"geometryDefinitions\",void 0),e([l({readOnly:!0})],C.prototype,\"serviceUpdateTimeStamp\",void 0),e([l({readOnly:!0})],C.prototype,\"store\",void 0),e([l({type:String,readOnly:!0,json:{read:{source:\"store.rootNode\"}}})],C.prototype,\"rootNode\",void 0),e([l({readOnly:!0})],C.prototype,\"attributeStorageInfo\",void 0),e([l(_.fields)],C.prototype,\"fields\",void 0),e([l({readOnly:!0})],C.prototype,\"fieldsIndex\",null),e([l({readOnly:!0,type:f})],C.prototype,\"associatedLayer\",void 0),e([u(\"service\",\"associatedLayer\",[\"associatedLayerID\"])],C.prototype,\"readAssociatedLayer\",null),e([l(_.outFields)],C.prototype,\"outFields\",void 0),e([l({type:String,readOnly:!0})],C.prototype,\"objectIdField\",null),e([l({type:String,readOnly:!0})],C.prototype,\"globalIdField\",null),e([l({readOnly:!0,type:String,json:{read:!1}})],C.prototype,\"displayField\",null),e([l({readOnly:!0,type:String})],C.prototype,\"apiKey\",null),e([l({readOnly:!0,type:String})],C.prototype,\"customParameters\",null),e([l({readOnly:!0,type:c})],C.prototype,\"fullExtent\",null),e([l({readOnly:!0,type:h})],C.prototype,\"spatialReference\",null),e([l({readOnly:!0})],C.prototype,\"version\",null),e([l({readOnly:!0,type:E})],C.prototype,\"elevationInfo\",null),e([l({readOnly:!0,type:Number})],C.prototype,\"minScale\",null),e([l({readOnly:!0,type:Number})],C.prototype,\"maxScale\",null),e([l({readOnly:!0,type:Number})],C.prototype,\"effectiveScaleRange\",null),e([l({type:[\"hide\",\"show\"],json:{write:!0}})],C.prototype,\"listMode\",void 0),e([l({types:q,json:{origins:{service:{read:{source:\"drawingInfo.renderer\"}}},name:\"layerDefinition.drawingInfo.renderer\",write:!0},value:null})],C.prototype,\"renderer\",void 0),e([l({type:String,json:{origins:{service:{read:!1,write:!1}},name:\"layerDefinition.definitionExpression\",write:{enabled:!0,allowNull:!0}}})],C.prototype,\"definitionExpression\",void 0),e([l(v)],C.prototype,\"popupEnabled\",void 0),e([l({type:r,json:{read:{source:\"popupInfo\"},write:{target:\"popupInfo\"}}})],C.prototype,\"popupTemplate\",void 0),e([l({readOnly:!0,type:String,json:{origins:{service:{read:{source:\"store.normalReferenceFrame\"}}},read:!1}})],C.prototype,\"normalReferenceFrame\",void 0),e([l({readOnly:!0,json:{read:!1}})],C.prototype,\"defaultPopupTemplate\",null),e([l({readOnly:!0})],C.prototype,\"graphicOrigin\",void 0),e([l()],C.prototype,\"types\",null),e([l()],C.prototype,\"typeIdField\",null),e([l({json:{write:!1}}),y(new i({\"3DObject\":\"3d-object\",Point:\"point\"}))],C.prototype,\"layerType\",void 0),e([l()],C.prototype,\"geometryType\",null),e([l()],C.prototype,\"profile\",null),e([l({readOnly:!0,json:{read:!1}})],C.prototype,\"capabilities\",null),e([l({readOnly:!0})],C.prototype,\"statisticsInfo\",void 0),C=e([d(\"esri.layers.buildingSublayers.BuildingComponentSublayer\")],C);export{C as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedMixin as r}from\"../../../core/Evented.js\";import{IdentifiableMixin as t}from\"../../../core/Identifiable.js\";import{EsriPromiseMixin as o}from\"../../../core/Promise.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";const p=(p,n)=>{const l=o(t(r(p)));let u=class extends l{constructor(e){super(e)}initialize(){}get suspended(){return!this.canResume()}get updating(){return!this.suspended&&this.isUpdating()}get visible(){return!!this.sublayer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get fullOpacity(){const e=e=>null!=e?e:1;return e(this.sublayer?.opacity)*e(this.parent?.fullOpacity)}canResume(){return!this.parent?.suspended&&this.view?.ready&&this.visible||!1}isUpdating(){return!1}};return e([s()],u.prototype,\"sublayer\",void 0),e([s()],u.prototype,\"parent\",void 0),e([s()],u.prototype,\"view\",void 0),e([s({readOnly:!0})],u.prototype,\"suspended\",null),e([s({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([s()],u.prototype,\"visible\",null),e([s()],u.prototype,\"fullOpacity\",null),u=e([i(\"esri.views.3d.layers.BuildingSublayerView3D\")],u),u};export{p as BuildingSublayerView3DMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as e}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{createMaterialFromEdges as r}from\"../support/edgeUtils.js\";const o=.15,t=.5*o;function a(e){switch(e.filterMode.type){case\"solid\":return{mode:0};case\"wire-frame\":return{mode:1,edgeMaterial:r(e.filterMode.edges,{})};case\"x-ray\":return{mode:2}}}function l(e,r){if(null==r)return e.color[3]=0,void(e.edgeMaterial=null);switch(r.mode){case 0:return;case 1:return e.color[3]=0,void(e.edgeMaterial=r.edgeMaterial);case 2:return e.color[0]=1,e.color[1]=1,e.color[2]=1,e.color[3]*=o,e.colorMixMode=3,e.castShadows=!1,e.pickable=!1,void(e.edgeMaterial=c(e.edgeMaterial))}}function c(e){return null==e?null:(n.lastMaterial!==e&&(n.cachedMaterial=i(e),n.lastMaterial=e),n.cachedMaterial)}function i(r){const o=e(r.color);return o[3]*=t,{...r,color:o}}const n={cachedMaterial:null,lastMaterial:null};export{l as applyFilterMode,a as parseFilterMode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import e from\"../../core/Accessor.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";class o extends e{constructor(){super(...arguments),this.sublayer=null}get updating(){return!1}get suspended(){return!1}get availableFields(){return[]}get filter(){return null}set filter(r){throw new Error(\"Not implemented\")}queryFeatures(r,e){throw new Error(\"Not implemented\")}queryObjectIds(r,e){throw new Error(\"Not implemented\")}queryFeatureCount(r,e){throw new Error(\"Not implemented\")}createQuery(){throw new Error(\"Not implemented\")}queryExtent(r,e){throw new Error(\"Not implemented\")}highlight(r){throw new Error(\"Not implemented\")}}r([t()],o.prototype,\"sublayer\",void 0),r([t()],o.prototype,\"availableFields\",null),r([t()],o.prototype,\"filter\",null);export{o as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../Graphic.js\";import t from\"../../../core/Error.js\";import i from\"../../../core/Logger.js\";import{destroyMaybe as s}from\"../../../core/maybe.js\";import{throwIfAborted as l,throwIfAbortError as a}from\"../../../core/promiseUtils.js\";import{syncAndInitial as o,initial as n}from\"../../../core/reactiveUtils.js\";import{property as u}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../core/sql/WhereClause.js\";import\"../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import h from\"../../../layers/support/FeatureFilter.js\";import{fixFields as y,unpackFieldNames as c,populateMissingFields as g}from\"../../../layers/support/fieldUtils.js\";import f from\"../../../rest/support/Query.js\";import{isNumber as m}from\"../../../support/guards.js\";import{BuildingSublayerView3DMixin as F}from\"./BuildingSublayerView3D.js\";import{I3SMeshView3D as b}from\"./I3SMeshView3D.js\";import{applyFilterMode as _}from\"./i3s/BuildingFilterUtil.js\";import{createGetFeatureExtent as w}from\"./i3s/I3SGeometryUtil.js\";import{I3SMeshViewFilter as E}from\"./i3s/I3SMeshViewFilter.js\";import{I3SQueryEngine as x}from\"./i3s/I3SQueryEngine.js\";import{I3SQueryFeatureAdapter as S,I3SQueryFeature as j}from\"./i3s/I3SQueryFeatureAdapter.js\";import{I3SQueryFeatureStore as v}from\"./i3s/I3SQueryFeatureStore.js\";import{findFieldsCaseInsensitive as I,getIndexCrs as Q}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as q}from\"./support/DefinitionExpressionSceneLayerView.js\";import{TemporalSceneLayerView as R}from\"./support/TemporalSceneLayerView.js\";import L from\"../../layers/BuildingComponentSublayerView.js\";import{hasPopupTemplate as O,getRequiredFields as V,getFetchPopupTemplate as U}from\"../../layers/support/popupUtils.js\";import{isInEffectiveScaleRange as C}from\"../../support/layerViewUtils.js\";import{TaskPriority as A}from\"../../support/Scheduler.js\";let H=class extends(R(q(b(F(L))))){constructor(e){super(e),this.type=\"building-component-sublayer-3d\",this._elevationContext=2,this._supportsLabeling=!1,this.requiredFields=[],this.progressiveLoadFactor=1,this._queryEngine=null}get i3slayer(){return this.sublayer}get layerViewUid(){return this.layerView.uid}get layerId(){return this.sublayer.layer.id}get sublayerId(){return this.sublayer.id}get layerPopupEnabledAndHasTemplate(){return this.sublayer.popupEnabled&&O(this.sublayer,this.layerView.view.popup?.defaultPopupTemplateEnabled)}initialize(){this._updatingHandles.add(()=>this.mergedFilter,e=>{null!=e&&E.checkSupport(e)?null==this._i3sFilter?this._i3sFilter=new E({viewFilter:e,layerFieldsIndex:this.sublayer.fieldsIndex,loadAsyncModule:e=>this._loadAsyncModule(e),addSqlFilter:(e,r)=>this.addSqlFilter(e,r,this.logError),addTimeFilter:(e,r)=>this.addTimeFilter(e,r)}):this._i3sFilter.viewFilter=e:this._i3sFilter=s(this._i3sFilter)},o),this._updatingHandles.add(()=>[this.sublayer.renderer,this.definitionExpressionFields,this.filterExpressionFields],()=>this._updateRequiredFields()),this._updatingHandles.add(()=>this.sublayer.renderer,e=>this._rendererChange(e),n);const e=()=>this._filterChange();this._updatingHandles.add(()=>this.parsedDefinitionExpression,e),this._updatingHandles.add(()=>this._i3sFilter?.sortedObjectIds,e),this._updatingHandles.add(()=>this._i3sFilter?.parsedWhereClause,e),this._updatingHandles.add(()=>this.getTimeFilterDependencies(),e),this._updatingHandles.add(()=>this.mergedFilter,e),this._updatingHandles.add(()=>[this._i3sFilter?.parsedGeometry,this.filter?.spatialRelationship],()=>this._geometryFilterChange()),this._updatingHandles.add(()=>this.parsedFilterExpressions,()=>this._updateSymbologyOverride(),n),this.addResolvingPromise(this._updateRequiredFields())}get lodFactor(){return this.view.qualitySettings.sceneService.object.lodFactor}get parsedFilterExpressions(){return\"Overview\"===this.sublayer.modelName?[]:this.layerView.filterExpressions.map(([e,r])=>{let t;try{t=p.create(e,{fieldsIndex:this.sublayer.fieldsIndex})}catch(a){return i.getLogger(this).error(\"Failed to parse filterExpression: \"+a),null}if(!t.isStandardized)return i.getLogger(this).error(\"filterExpression is using non standard function\"),null;const s=[],l=t.fieldNames;return I(l,this.sublayer.fieldsIndex,{missingFields:s}),s.length>0?(i.getLogger(this).error(`filterExpression references unknown fields: ${s.join(\", \")}`),null):[t,r]}).filter(e=>null!=e)}get filter(){return this._get(\"filter\")}set filter(e){this._set(\"filter\",E.checkSupport(e)?e:null)}isUpdating(){return super.isUpdating()||(this._i3sFilter?.updating??!1)}_updateSymbologyOverride(){const e=this.parsedFilterExpressions;e.length>0?this._setSymbologyOverride((r,t)=>{for(const[s,l]of e)try{if(s.testFeature(r))return _(t,l)}catch(i){this.logError(i)}return _(t,null)},this.filterExpressionFields):this._setSymbologyOverride(null,null)}get filterExpressionFields(){return y(this.sublayer.fieldsIndex,this.parsedFilterExpressions.reduce((e,[r])=>e.concat(r.fieldNames),new Array))}get availableFields(){const e=this.sublayer,r=e.fieldsIndex;let t=this.requiredFields;if(e.outFields||e.layer.outFields){const i=[...e.outFields||[],...e.layer.outFields||[]];t=[...c(r,i),...t]}return y(r,t)}get _graphicOrigin(){return this.sublayer.graphicOrigin}_createLayerGraphic(e){return new r({attributes:e,layer:this.sublayer.layer,sourceLayer:this.sublayer,origin:this._graphicOrigin})}canResume(){return super.canResume()&&C(this.i3slayer.effectiveScaleRange,this.view.scale)&&(!this._controller||this._controller.rootNodeVisible)}async fetchPopupFeaturesFromGraphics(e,r){const t=this._validateFetchPopupFeatures(r);if(t)throw t;if(0===e.length)return[];const s=[],o=[],n=null!=this.sublayer.associatedLayer?await this.sublayer.associatedLayer.load(r):this.sublayer,u=c(this.sublayer.fieldsIndex,await V(n,U(this.sublayer,r)));l(r);const d=new Set;for(const i of e)g(i,u,d)?o.push(i):s.push(i);return 0===o.length?s:(null!=this.sublayer.associatedLayer&&await this.sublayer.associatedLayer.load().catch(()=>i.getLogger(this).warn(\"Failed to load associated feature layer. Displaying popup attributes from cached attributes.\")),this.whenGraphicAttributes(o,Array.from(d)).catch(e=>(a(e),o)).then(e=>s.concat(e)))}async _updateRequiredFields(){const e=y(this.sublayer.fieldsIndex,[...this.sublayer.renderer?await this.sublayer.renderer.getRequiredFields(this.sublayer.fieldsIndex):[],...this.definitionExpressionFields,...this.filterExpressionFields]);this._set(\"requiredFields\",e)}_validateFetchPopupFeatures(e){const{sublayer:r}=this,{popupEnabled:i}=r;return i?U(r,e)?void 0:new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{sublayer:r}):new t(\"buildingscenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{sublayer:r})}getFilters(){const e=super.getFilters();return this.addSqlFilter(e,this.parsedDefinitionExpression,this.logError),this._i3sFilter?.addFilters(e,this.view,this._controller.crsIndex,this._collection),e}createQuery(){const e={outFields:[\"*\"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new f(e)}queryExtent(e,r){return this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e),r?.signal)}queryFeatureCount(e,r){return this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e),r?.signal)}queryFeatures(e,r){return this._ensureQueryEngine().executeQuery(this._ensureQuery(e),r?.signal).then(e=>{if(!e?.features)return e;const r=this.sublayer,t=r.layer,i=this._graphicOrigin;for(const s of e.features)s.layer=t,s.sourceLayer=r,s.origin=i;return e})}async queryObjectIds(e,r){return(await this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e),r?.signal)).filter(m)}_ensureQueryEngine(){return this._queryEngine??=this._createQueryEngine(),this._queryEngine}_createQueryEngine(){const e=w(this.view.spatialReference,this.view.renderSpatialReference,this._collection);return new x({layerView:this,priority:A.FEATURE_QUERY_ENGINE,spatialIndex:new v({featureAdapter:new S({objectIdField:this.sublayer.objectIdField,attributeStorageInfo:this.sublayer.attributeStorageInfo,getFeatureExtent:e}),forAllFeatures:(e,r)=>this._forAllFeatures((r,t,i)=>e(new j(r,t,i)),r,2),getFeatureExtent:e,sourceSpatialReference:Q(this.sublayer),viewSpatialReference:this.view.spatialReference})})}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():f.from(e))}};e([u()],H.prototype,\"i3slayer\",null),e([u()],H.prototype,\"layerView\",void 0),e([u()],H.prototype,\"lodFactor\",null),e([u({readOnly:!0})],H.prototype,\"parsedFilterExpressions\",null),e([u({type:h})],H.prototype,\"filter\",null),e([u()],H.prototype,\"_i3sFilter\",void 0),e([u({type:[String],readOnly:!0})],H.prototype,\"filterExpressionFields\",null),e([u({type:[String],readOnly:!0})],H.prototype,\"requiredFields\",void 0),e([u({type:[String],readOnly:!0})],H.prototype,\"availableFields\",null),e([u()],H.prototype,\"_graphicOrigin\",null),H=e([d(\"esri.views.3d.layers.BuildingComponentSublayerView3D\")],H);export{H as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import\"../../core/Warning.js\";import\"../../core/Error.js\";import e from\"./LayerView.js\";class t extends e{constructor(r){super(r),this.layer=null,this.sublayerViews=null}highlight(r,o){throw new Error(\"Not implemented\")}}r([o()],t.prototype,\"layer\",void 0),r([o()],t.prototype,\"sublayerViews\",void 0);export{t as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../core/Accessor.js\";import i from\"../../../core/Collection.js\";import t from\"../../../core/Error.js\";import{handlesGroup as s}from\"../../../core/handleUtils.js\";import o from\"../../../core/Logger.js\";import{getOrCreateMapValue as n}from\"../../../core/MapUtils.js\";import{abortMaybe as l}from\"../../../core/maybe.js\";import{isAbortError as a,allSettledValues as u,throwIfAborted as p,createResolver as h}from\"../../../core/promiseUtils.js\";import{watch as c,syncAndInitial as y}from\"../../../core/reactiveUtils.js\";import{property as d}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as g}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isBuildingGraphicOrigin as f}from\"../../../graphic/isBuildingGraphicOrigin.js\";import\"../../../layers/buildingSublayers/BuildingGroupSublayer.js\";import{isGraphic as m}from\"../../../support/guards.js\";import w from\"./BuildingComponentSublayerView3D.js\";import{BuildingSublayerView3DMixin as b}from\"./BuildingSublayerView3D.js\";import{LayerView3D as V}from\"./LayerView3D.js\";import{parseFilterMode as j}from\"./i3s/BuildingFilterUtil.js\";import{checkSpatialReference as S}from\"./i3s/I3SUtil.js\";import{normalizeHighlightTarget as _,emptyHighlightHandle as C}from\"./support/highlightUtils.js\";import{LayerViewPerformanceInfo as v}from\"./support/LayerViewPerformanceInfo.js\";import{updatingProgress as B}from\"../support/updatingProperties.js\";import M from\"../../layers/BuildingSceneLayerView.js\";import{isInEffectiveScaleRange as E}from\"../../support/layerViewUtils.js\";const F=b(r);let P=class extends(V(M)){constructor(e){super(e),this.type=\"building-scene-3d\",this.sublayerViews=new i,this._rejectedSublayerViews=new Map,this._abortController=new AbortController,this._loadingComponents=0,this._pendingWhenSublayerViews=new Map,this.ignoresMemoryFactor=!1}get filterExpression(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find(r=>r.id===e):null,i=null!=r?r.filterBlocks?.find(e=>\"solid\"===e.filterMode.type):null;return i?i.filterExpression:null}get filterExpressions(){const e=this.layer.activeFilterId,r=null!=e?this.layer.filters.find(r=>r.id===e):null;return r?.filterBlocks?r.filterBlocks.toArray().map(e=>[e.filterExpression??\"\",j(e)]):[]}get updatingProgressValue(){const e=this.sublayerViews,r=this._loadingComponents+(e?e.length:0);return e.reduce((e,r)=>e+r.updatingProgress,0)/r}get visibleAtCurrentScale(){return E(this.layer.effectiveScaleRange,this.view.scale)}isUpdating(){return this._loadingComponents>0||this.sublayerViews&&this.sublayerViews.some(e=>e.updating)}initialize(){S(this.layer.spatialReference,this.view.spatialReference,this.view.viewingMode),this._initializeSublayerViews(this.layer.sublayers,this)}destroy(){this.sublayerViews&&(this.sublayerViews.forEach(e=>e.destroy()),this.sublayerViews=null),this._rejectedSublayerViews=null,this._abortController=l(this._abortController)}_initializeSublayerViews(e,r){const i=this,s=this.view;e.forEach(e=>{if(!e.isEmpty)if(\"building-group\"===e.type){const i=new F({sublayer:e,view:s,parent:r});this._initializeSublayerViews(e.sublayers,i)}else\"mesh\"===e.geometryType?(this._loadingComponents++,e.load({signal:this._abortController.signal}).then(()=>{const t=new w({sublayer:e,layerView:i,view:s,parent:r});this.sublayerViews.push(t);const o=this._pendingWhenSublayerViews.get(e);if(o){for(const e of o)e.resolve(t);this._pendingWhenSublayerViews.delete(e)}this.addHandles([c(()=>t.updating,()=>this.notifyChange(\"updating\"),y),c(()=>t.updatingProgress,()=>this.notifyChange(\"updatingProgressValue\"),y)])}).catch(r=>{a(r)||o.getLogger(this).error(`Error while creating view for sublayer ${e.id}\\nLayer: ${this.layer.url}\\n`,r),this._rejectWhenSublayerView(e,r)}).then(()=>{this._loadingComponents--,this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")})):this._rejectWhenSublayerView(e,new t(\"view:no-layerview-for-sublayer\",`No layerview created for sublayer ${e.id}`))})}getGraphicFromIntersectorTarget(e,r){for(const i of this.sublayerViews.items)if(i.sublayer.id===e.sublayerId)return i.getGraphicFromIntersectorTarget(e,r);return null}async fetchPopupFeaturesFromGraphics(e,r){if(0===e.length)return[];const i=I(e,e=>f(e.origin)?e.origin.sublayer:e.sourceLayer),t=[];for(const[o,n]of i){const e=this._findComponent(o);null!=e&&t.push(e.fetchPopupFeaturesFromGraphics(n,r))}const s=await u(t);return p(r),s.flat()}whenGraphicBounds(e){const r=this._findComponent(f(e.origin)?e.origin.sublayer:e.sourceLayer);return null==r?Promise.reject():r.whenGraphicBounds(e)}getAABBFromIntersectorTarget(e){for(const r of this.sublayerViews.items)if(r.sublayer.id===e.sublayerId)return r.getAABBFromIntersectorTarget(e);return null}async whenSublayerView(e){const r=this._findComponent(e);if(null!=r)return r;const i=this._rejectedSublayerViews.get(e);if(null!=i)throw i;const t=this._pendingWhenSublayerViews.get(e),s=h();return t?t.push(s):this._pendingWhenSublayerViews.set(e,[s]),s.promise}_rejectWhenSublayerView(e,r){this._rejectedSublayerViews.set(e,r);const i=this._pendingWhenSublayerViews.get(e);if(i){for(const e of i)e.reject(r);this._pendingWhenSublayerViews.delete(e)}}_findComponent(e){return this.sublayerViews.find(r=>e===r.sublayer)}highlight(e,r){const i=_(e);if(0===i.length)return C;if(m(i[0])){const e=i,t=new Map;for(const r of e)n(t,f(r.origin)?r.origin.sublayer:r.sourceLayer,()=>[]).push(r);const o=[];return this.sublayerViews.forEach(e=>{const i=t.get(e.sublayer);i&&o.push(e.highlight(i,r))}),s(o)}return C}get usedMemory(){return this.sublayerViews.reduce((e,r)=>e+r.usedMemory,0)}get unloadedMemory(){return this.sublayerViews.reduce((e,r)=>e+r.unloadedMemory,0)}get performanceInfo(){return new v(this.usedMemory)}};function I(e,r){const i=new Map,t=e.length;for(let s=0;s<t;s++){const t=e[s],o=r(t,s,e),n=i.get(o);n?n.push(t):i.set(o,[t])}return i}e([d()],P.prototype,\"sublayerViews\",void 0),e([d()],P.prototype,\"_rejectedSublayerViews\",void 0),e([d({readOnly:!0})],P.prototype,\"filterExpression\",null),e([d({readOnly:!0})],P.prototype,\"filterExpressions\",null),e([d(B)],P.prototype,\"updatingProgress\",void 0),e([d({readOnly:!0,dependsOn:[]})],P.prototype,\"updatingProgressValue\",null),e([d({readOnly:!0})],P.prototype,\"visibleAtCurrentScale\",null),P=e([g(\"esri.views.3d.layers.BuildingSceneLayerView3D\")],P);const L=P;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{IdentifiableMixin as o}from\"../../core/Identifiable.js\";import{MultiOriginJSONSupport as r}from\"../../core/MultiOriginJSONSupport.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{readOnlyService as l}from\"../support/commonProperties.js\";let a=class extends(o(r)){constructor(e){super(e),this.title=\"\",this.id=-1,this.modelName=null,this.isEmpty=null,this.legendEnabled=!0,this.visible=!0,this.opacity=1}readTitle(e,o){return\"string\"==typeof o.alias?o.alias:\"string\"==typeof o.name?o.name:\"\"}readIdOnlyOnce(e){return-1!==this.id?this.id:\"number\"==typeof e?e:-1}};e([t({type:String,json:{origins:{\"web-scene\":{write:!0},\"portal-item\":{write:!0}}}})],a.prototype,\"title\",void 0),e([s(\"service\",\"title\",[\"alias\",\"name\"])],a.prototype,\"readTitle\",null),e([t()],a.prototype,\"layer\",void 0),e([t({type:i,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],a.prototype,\"id\",void 0),e([s(\"service\",\"id\")],a.prototype,\"readIdOnlyOnce\",null),e([t(l(String))],a.prototype,\"modelName\",void 0),e([t(l(Boolean))],a.prototype,\"isEmpty\",void 0),e([t({type:Boolean,nonNullable:!0})],a.prototype,\"legendEnabled\",void 0),e([t({type:Boolean,json:{name:\"visibility\",write:!0}})],a.prototype,\"visible\",void 0),e([t({type:Number,json:{write:!0}})],a.prototype,\"opacity\",void 0),a=e([p(\"esri.layers.buildingSublayers.BuildingSublayer\")],a);export{a as default};\n"],"names":["i","Symbol","n","p","type","e","readOnly","json","origins","service","read","source","reader","a","r","o","t","Array","isArray","map","layerType","d","c","messages","push","s","definition","context","u","constructor","super","this","listMode","sublayers","loadAll","l","static","sublayersProperty","readSublayers","write","prototype","forEach","sublayer","layer","id","_","L","C","g","nodePages","materialDefinitions","textureSetDefinitions","geometryDefinitions","indexInfo","serviceUpdateTimeStamp","store","attributeStorageInfo","fields","associatedLayer","outFields","renderer","definitionExpression","popupEnabled","popupTemplate","initialize","_set","m","parsedUrl","path","query","fieldsIndex","I","readAssociatedLayer","associatedFeatureServiceItem","associatedLayerID","f","portalItem","customParameters","layerId","objectIdField","name","globalIdField","displayField","apiKey","fullExtent","spatialReference","version","elevationInfo","minScale","maxScale","effectiveScaleRange","defaultPopupTemplate","createPopupTemplate","load","signal","_fetchService","then","F","rootNode","getLogger","addResolvingPromise","Promise","resolve","U","token","responseType","data","origin","url","getField","get","getFieldDomain","domain","b","getFeatureType","types","typeIdField","geometryType","profile","capabilities","j","operations","supportsQuery","supportsZ","supportsM","isVersioned","createQuery","T","returnGeometry","returnZ","where","sqlFormat","queryExtent","_getAssociatedLayerForQuery","queryFeatureCount","queryFeatures","features","sourceLayer","graphicOrigin","queryObjectIds","filter","Q","queryCachedAttributes","S","R","A","D","queryCachedFeature","length","attributes","getFieldUsageInfo","has","supportsLabelingInfo","supportsRenderer","supportsPopupTemplate","supportsLayerQuery","loaded","_loadAssociatedLayerForQuery","error","O","w","x","P","String","h","E","Number","q","value","enabled","allowNull","v","target","y","Point","suspended","canResume","updating","isUpdating","visible","_overrideIfSome","fullOpacity","opacity","parent","view","ready","Boolean","filterMode","mode","edgeMaterial","edges","color","colorMixMode","castShadows","pickable","lastMaterial","cachedMaterial","arguments","availableFields","Error","highlight","H","_elevationContext","_supportsLabeling","requiredFields","progressiveLoadFactor","_queryEngine","i3slayer","layerViewUid","layerView","uid","sublayerId","layerPopupEnabledAndHasTemplate","popup","defaultPopupTemplateEnabled","_updatingHandles","add","mergedFilter","checkSupport","_i3sFilter","viewFilter","layerFieldsIndex","loadAsyncModule","_loadAsyncModule","addSqlFilter","logError","addTimeFilter","definitionExpressionFields","filterExpressionFields","_updateRequiredFields","_rendererChange","_filterChange","parsedDefinitionExpression","sortedObjectIds","parsedWhereClause","getTimeFilterDependencies","parsedGeometry","spatialRelationship","_geometryFilterChange","parsedFilterExpressions","_updateSymbologyOverride","lodFactor","qualitySettings","sceneService","object","modelName","filterExpressions","_ref","create","isStandardized","fieldNames","missingFields","join","_get","_setSymbologyOverride","testFeature","reduce","_ref2","concat","_graphicOrigin","_createLayerGraphic","scale","_controller","rootNodeVisible","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","V","Set","catch","warn","whenGraphicAttributes","from","getRequiredFields","getFilters","addFilters","crsIndex","_collection","outSpatialReference","_ensureQueryEngine","executeQueryForExtent","_ensureQuery","executeQueryForCount","executeQuery","executeQueryForIds","_createQueryEngine","renderSpatialReference","priority","FEATURE_QUERY_ENGINE","spatialIndex","featureAdapter","getFeatureExtent","forAllFeatures","_forAllFeatures","sourceSpatialReference","viewSpatialReference","_addDefinitionExpressionToQuery","sublayerViews","M","_rejectedSublayerViews","Map","_abortController","AbortController","_loadingComponents","_pendingWhenSublayerViews","ignoresMemoryFactor","filterExpression","activeFilterId","filters","find","filterBlocks","toArray","updatingProgressValue","updatingProgress","visibleAtCurrentScale","some","viewingMode","_initializeSublayerViews","destroy","isEmpty","delete","addHandles","notifyChange","_rejectWhenSublayerView","getGraphicFromIntersectorTarget","items","set","_findComponent","flat","whenGraphicBounds","reject","getAABBFromIntersectorTarget","whenSublayerView","promise","usedMemory","unloadedMemory","performanceInfo","B","dependsOn","title","legendEnabled","readTitle","alias","readIdOnlyOnce","ignoreOrigin","isRequired","nonNullable"],"sourceRoot":""}