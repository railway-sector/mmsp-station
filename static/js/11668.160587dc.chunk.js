"use strict";(self.webpackChunkmmsp_station=self.webpackChunkmmsp_station||[]).push([[11668],{11668:(e,a,t)=>{t.d(a,{K:()=>p,Q:()=>c});var r=t(31933),n=t(67061);const s=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function c(e,a){const{loadContext:t,...s}=a||{},c=t?await t.fetchServiceMetadata(e,s):await(0,n.V)(e,s),o=(0,r.G$)();f(c),y(c);const u={serviceJSON:c,preferredHost:o};if((c.currentVersion??0)<10.5)return u;const i=`${(0,r.$x)()??e}/layers`,l=t?await t.fetchServiceMetadata(i,s):await(0,n.V)(i,s);return f(l),y(l),u.layersJSON={layers:l.layers,tables:l.tables},u}function o(e){const{type:a}=e;return!!a&&s.has(a)}function u(e){return"Table"===e.type}function y(e){e.layers=e.layers?.filter(o),e.tables=e.tables?.filter(u)}function i(e){e.type||="Feature Layer"}function l(e){e.type||="Table"}function f(e){e.layers?.forEach(i),e.tables?.forEach(l)}function p(e){switch(e){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},67061:(e,a,t)=>{t.d(a,{V:()=>n});var r=t(3825);async function n(e,a){const{data:t}=await(0,r.A)(e,{responseType:"json",query:{f:"json",...a?.customParameters,token:a?.apiKey}});return t}}}]);
//# sourceMappingURL=11668.160587dc.chunk.js.map