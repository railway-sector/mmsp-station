"use strict";(self.webpackChunkmmsp_station=self.webpackChunkmmsp_station||[]).push([[11668],{11668:(e,a,t)=>{t.d(a,{K:()=>p,Q:()=>l});var r=t(53986),n=t(31933),o=t(67061);const s=["loadContext"],i=new Set(["Catalog Layer","Feature Layer","Oriented Imagery Layer"]);async function l(e,a){var t,i;const l=a||{},{loadContext:u}=l,c=(0,r.A)(l,s),d=u?await u.fetchServiceMetadata(e,c):await(0,o.V)(e,c),f=(0,n.G$)();v(d),y(d);const p={serviceJSON:d,preferredHost:f};if((null!==(t=d.currentVersion)&&void 0!==t?t:0)<10.5)return p;const L="".concat(null!==(i=(0,n.$x)())&&void 0!==i?i:e,"/layers"),b=u?await u.fetchServiceMetadata(L,c):await(0,o.V)(L,c);return v(b),y(b),p.layersJSON={layers:b.layers,tables:b.tables},p}function u(e){const{type:a}=e;return!!a&&i.has(a)}function c(e){return"Table"===e.type}function y(e){var a,t;e.layers=null===(a=e.layers)||void 0===a?void 0:a.filter(u),e.tables=null===(t=e.tables)||void 0===t?void 0:t.filter(c)}function d(e){e.type||(e.type="Feature Layer")}function f(e){e.type||(e.type="Table")}function v(e){var a,t;null!==(a=e.layers)&&void 0!==a&&a.forEach(d),null===(t=e.tables)||void 0===t||t.forEach(f)}function p(e){switch(e){case"Feature Layer":case"Table":return"FeatureLayer";case"Oriented Imagery Layer":return"OrientedImageryLayer";case"Catalog Layer":return"CatalogLayer"}return"FeatureLayer"}},67061:(e,a,t)=>{t.d(a,{V:()=>o});var r=t(89379),n=t(3825);async function o(e,a){const{data:t}=await(0,n.A)(e,{responseType:"json",query:(0,r.A)((0,r.A)({f:"json"},null===a||void 0===a?void 0:a.customParameters),{},{token:null===a||void 0===a?void 0:a.apiKey})});return t}}}]);
//# sourceMappingURL=11668.c21efe3e.chunk.js.map