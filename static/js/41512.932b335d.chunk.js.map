{"version":3,"file":"static/js/41512.932b335d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/networks/support/utils.js","../node_modules/@arcgis/core/layers/graphics/applyEditsUtils.js","../node_modules/@arcgis/core/rest/networks/circuits/support/CircuitVerifyResult.js","../node_modules/@arcgis/core/rest/networks/circuits/support/VerifyCircuitsResult.js","../node_modules/@arcgis/core/rest/networks/circuits/verifyCircuits.js","../node_modules/@arcgis/core/layers/graphics/editingSupport.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../../geometry/SpatialReference.js\";import{createEditedFeatures as r}from\"../../../layers/graphics/applyEditsUtils.js\";function t(t){return t.map(t=>{const i=t.editedFeatures,a=e.fromJSON(i?.spatialReference);return i?{layerId:t.id,editedFeatures:r(i,a)}:null}).filter(e=>null!==e)}export{t as handleServiceEdits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{getMetersPerCartesianUnitForSR as a}from\"../../core/unitUtils.js\";import{parseData as s}from\"../../core/urlUtils.js\";import{isEqualBaseGCS as o,canProjectWithoutEngine as n,projectWithoutEngine as l}from\"../../geometry/projectionUtils.js\";import{fromJSON as i}from\"../../geometry/support/jsonUtils.js\";import u from\"../../geometry/support/MeshTransform.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isFeatureIdentifierArrayWithGlobalId as c,isFeatureIdentifierArrayWithObjectId as p}from\"./editingSupport.js\";async function m(e,t,r){const{geometry:s}=t,i={...t.attributes};if(null!=r&&\"mesh\"===s?.type){const{transformFieldRoles:t}=r,{origin:c,spatialReference:p,vertexSpace:m}=s,f=s.transform??new u,g=\"local\"===m.type,b=e.spatialReference,y=b.isGeographic,R=d(b,p),h=o(p,b)&&n(p,b);if(!(g&&y&&h||!g&&!y&&R))return null;const I=l(c,p,b);if(null==I)return null;if(i[t.originX]=I.x,i[t.originY]=I.y,i[t.originZ]=I.z??0,null!=f){const{translation:e,scale:r,rotation:s}=f,o=g?1:a(p)/a(b);i[t.translationX]=e[0]*o,i[t.translationY]=e[2]*o,i[t.translationZ]=-e[1]*o,i[t.scaleX]=r[0],i[t.scaleY]=r[2],i[t.scaleZ]=r[1],i[t.rotationX]=s[0],i[t.rotationY]=s[2],i[t.rotationZ]=-s[1],i[t.rotationDeg]=s[3]}return{attributes:i}}return null==s?{attributes:i}:\"mesh\"===s.type||\"extent\"===s.type?null:{geometry:s.toJSON(),attributes:i}}async function f(e,t){const r=await Promise.all((t.addAttachments??[]).map(t=>g(e,t))),a=await Promise.all((t.updateAttachments??[]).map(t=>g(e,t))),s=t.deleteAttachments??[];return r.length||a.length||s.length?{adds:r,updates:a,deletes:[...s]}:null}async function g(e,t){const{feature:r,attachment:a}=t,{globalId:o,name:n,contentType:l,data:i,uploadId:u}=a,d={globalId:o};if(r&&(\"attributes\"in r?d.parentGlobalId=r.attributes?.[e.globalIdField]:r.globalId&&(d.parentGlobalId=r.globalId)),u)d.uploadId=u;else if(i){const e=await s(i);e&&(d.contentType=e.mediaType,d.data=e.data),i instanceof File&&(d.name=i.name)}return n&&(d.name=n),l&&(d.contentType=l),d}function b(e,t,r){if(!t||0===t.length)return[];if(r&&c(t))return t.map(e=>e.globalId);if(p(t))return t.map(e=>e.objectId);const a=r?e.globalIdField:e.objectIdField;return a?t.map(e=>e.getAttribute(a)):[]}function y(e){const t=e?.assetMaps;if(t){for(const e of t.addResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`);for(const e of t.updateResults)e.success||r.getLogger(\"esri.layers.graphics.sources.support.sourceUtils\").error(`Failed to map asset to feature with globalId ${e.globalId}.`)}const a=e?.attachments,s={addFeatureResults:e?.addResults?.map(R)??[],updateFeatureResults:e?.updateResults?.map(R)??[],deleteFeatureResults:e?.deleteResults?.map(R)??[],addAttachmentResults:a?.addResults?a.addResults.map(R):[],updateAttachmentResults:a?.updateResults?a.updateResults.map(R):[],deleteAttachmentResults:a?.deleteResults?a.deleteResults.map(R):[]};return e?.editMoment&&(s.editMoment=e.editMoment),s}function R(e){const r=!0===e.success?null:e.error||{code:void 0,description:\"Feature edit failed\"};return{objectId:e.objectId,globalId:e.globalId,error:r?new t(\"feature-layer-source:edit-failure\",r.description,{code:r.code}):null}}function h(t,r){return new e({attributes:t.attributes,geometry:i({...t.geometry,spatialReference:r})})}function I(e,t){return{adds:e?.adds?.map(e=>h(e,t))||[],updates:e?.updates?.map(e=>({original:h(e[0],t),current:h(e[1],t)}))||[],deletes:e?.deletes?.map(e=>h(e,t))||[],spatialReference:t}}function j(e){const t=e.details.raw,r=+t.code,a=+t.extendedCode;return 500===r&&(-2147217144===a||-2147467261===a)}export{I as createEditedFeatures,R as createFeatureEditResult,f as getAttachmentEditsJSON,b as getFeatureIds,m as getFeatureJSON,j as isProtectedOrPrivateVersionError,y as unpackEditResultData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{JSONSupport as o}from\"../../../../core/JSONSupport.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as e}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../geometry/Polyline.js\";let p=class extends o{constructor(r){super(r),this.error=null,this.geometry=null,this.name=null}};r([t({type:Object})],p.prototype,\"error\",void 0),r([t({type:s})],p.prototype,\"geometry\",void 0),r([t({type:String})],p.prototype,\"name\",void 0),p=r([e(\"esri.rest.networks.circuits.support.CircuitVerifyResult\")],p);const i=p;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as r}from\"tslib\";import{JSONSupport as e}from\"../../../../core/JSONSupport.js\";import{property as t}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{reader as o}from\"../../../../core/accessorSupport/decorators/reader.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import i from\"./CircuitVerifyResult.js\";import{handleServiceEdits as p}from\"../../support/utils.js\";let c=class extends e{constructor(r){super(r),this.circuits=[],this.moment=null,this.exceededTransferLimit=!1,this.serviceEdits=null}readServiceEdits(r,e){return p(r)}};r([t({type:[i],json:{type:[i],write:!0}})],c.prototype,\"circuits\",void 0),r([t({type:Date,json:{type:Number,write:{writer:(r,e)=>{e.moment=r?r.getTime():null}}}})],c.prototype,\"moment\",void 0),r([t({type:Boolean,json:{type:Boolean,write:!0}})],c.prototype,\"exceededTransferLimit\",void 0),r([t({type:[Object],json:{type:[Object],write:!0}})],c.prototype,\"serviceEdits\",void 0),r([o(\"serviceEdits\")],c.prototype,\"readServiceEdits\",null),c=r([s(\"esri.rest.networks.circuits.support.VerifyCircuitsResult\")],c);export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{parseUrl as r,encode as i,asValidOptions as s}from\"../../utils.js\";import o from\"./support/VerifyCircuitsResult.js\";async function c(c,u,e){const f=r(c),m=u.toJSON();u.circuits&&(m.circuits=JSON.stringify(u.circuits));const n={...m,f:\"json\"},p=i({...f.query,...n}),a=s(p,{...e,method:\"post\"}),y=`${f.path}/circuits/verify`,{data:j}=await t(y,a);return o.fromJSON(j)}export{c as verifyCircuits};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport e from\"../../Graphic.js\";import t from\"../../core/Collection.js\";import a from\"../../core/Error.js\";import{clone as r}from\"../../core/lang.js\";import s from\"../../core/Logger.js\";import{createResolver as i}from\"../../core/promiseUtils.js\";import{dataComponents as n}from\"../../core/urlUtils.js\";import{generateBracedUUID as o}from\"../../core/uuid.js\";import{normalizeCentralMeridian as l}from\"../../geometry/support/normalizeUtils.js\";import{isGeographic as d,equals as u,isWGS84 as p,isWebMercator as c}from\"../../geometry/support/spatialReferenceUtils.js\";import{isEditBusLayer as h,emitApplyEditsEvent as m}from\"../mixins/EditBusLayer.js\";import{isValidFieldValue as f}from\"../support/fieldUtils.js\";import{isGlbSupportedEditFormat as y}from\"../support/infoFor3D.js\";import{getEffectiveEditingEnabled as g,getEffectiveLayerCapabilities as b}from\"../support/layerUtils.js\";function w(e){return null!=e?.applyEdits}function F(e){return\"object\"==typeof e&&null!=e&&\"objectId\"in e&&!!e.objectId}function A(e){return e.every(F)}function v(e){return\"object\"==typeof e&&null!=e&&\"globalId\"in e&&!!e.globalId}function I(e){return e.every(v)}async function $(e,t,a,s={}){let n;const o=\"gdbVersion\"in e?e.gdbVersion:null,l=s.gdbVersion??o;if(h(e)&&e.url)n=m(e.url,e.layerId,l,\"original-and-current-features\"===s.returnServiceEditsOption);else{n=i(),n.promise.then(t=>{(t.addedFeatures.length||t.updatedFeatures.length||t.deletedFeatures.length||t.addedAttachments.length||t.updatedAttachments.length||t.deletedAttachments.length)&&e.emit(\"edits\",t)});const t={result:n.promise};e.emit(\"apply-edits\",t)}try{const{results:i,edits:o}=await E(e,t,a,s),l=e=>e.filter(e=>!e.error).map(r),d={edits:o,addedFeatures:l(i.addFeatureResults),updatedFeatures:l(i.updateFeatureResults),deletedFeatures:l(i.deleteFeatureResults),addedAttachments:l(i.addAttachmentResults),updatedAttachments:l(i.updateAttachmentResults),deletedAttachments:l(i.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:i.editMoment?new Date(i.editMoment):null,globalIdToObjectId:s.globalIdToObjectId};return i.editedFeatureResults?.length&&(d.editedFeatures=i.editedFeatureResults),n.resolve(d),i}catch(d){throw n.reject(d),d}}async function E(e,t,r,s){if(await e.load(),!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!g(e))throw new a(`${e.type}-layer:editing-disabled`,\"Editing is disabled for layer\",{layer:e});const{edits:i,options:n}=await S(e,r,s);return i.addFeatures?.length||i.updateFeatures?.length||i.deleteFeatures?.length||i.addAttachments?.length||i.updateAttachments?.length||i.deleteAttachments?.length?{edits:i,results:await t.applyEdits(i,n)}:{edits:i,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}async function S(e,t,r){const i=b(e),n=t&&(t.addFeatures||t.updateFeatures||t.deleteFeatures),o=t&&(t.addAttachments||t.updateAttachments||t.deleteAttachments),l=null!=e.infoFor3D;if(V(t,i,r,!!n,!!o,`${e.type}-layer`),!i.data.isVersioned&&r?.gdbVersion)throw new a(`${e.type}-layer:invalid-parameter`,\"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'\");if(!i.editing.supportsRollbackOnFailure&&r?.rollbackOnFailureEnabled)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'\");const d={...r};if(null!=d.rollbackOnFailureEnabled||i.editing.supportsRollbackOnFailure||(d.rollbackOnFailureEnabled=!0),d.rollbackOnFailureEnabled||\"original-and-current-features\"!==d.returnServiceEditsOption||(!1===d.rollbackOnFailureEnabled&&s.getLogger(\"esri.layers.graphics.editingSupport\").warn(`${e.type}-layer:invalid-parameter`,\"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true.\"),d.rollbackOnFailureEnabled=!0),!i.editing.supportsReturnServiceEditsInSourceSpatialReference&&d.returnServiceEditsInSourceSR)throw new a(`${e.type}-layer:invalid-parameter`,\"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'\");if(d.returnServiceEditsInSourceSR&&\"original-and-current-features\"!==d.returnServiceEditsOption)throw new a(`${e.type}-layer:invalid-parameter`,\"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'\");const u=G(t,i,`${e.type}-layer`),p=r?.globalIdUsed||l,c=e.fields.filter(e=>\"big-integer\"===e.type||\"oid\"===e.type&&(e.length||0)>=8);if(p){const{globalIdField:t}=e;if(null==t)throw new a(`${e.type}-layer:invalid-parameter`,\"Layer does not specify a global id field.\");u.addFeatures.forEach(e=>T(e,t))}u.addFeatures.forEach(t=>O(t,e,p,c)),u.updateFeatures.forEach(t=>k(t,e,p,c)),u.deleteFeatures.forEach(t=>U(t,e,p,c)),u.addAttachments.forEach(t=>L(t,e)),u.updateAttachments.forEach(t=>L(t,e)),l&&await x(u,e);return{edits:await B(u),options:d}}function R(e,t,r,s){if(r){if(\"attributes\"in e&&!e.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,`Feature should have '${t.globalIdField}' when 'globalIdUsed' is true`);if(!(\"attributes\"in e)&&!e.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"`'globalId' of the feature should be passed when 'globalIdUsed' is true\")}if(s.length&&\"attributes\"in e)for(const i of s){const r=e.attributes[i.name];if(void 0!==r&&!f(i,r))throw new a(`${t.type}-layer:invalid-parameter`,`Big-integer field '${i.name}' of the feature must be less than ${Number.MAX_SAFE_INTEGER}`,{feature:e})}if(\"geometry\"in e&&null!=e.geometry){if(e.geometry.hasZ&&!1===t.capabilities?.data.supportsZ)throw new a(`${t.type}-layer:z-unsupported`,\"Layer does not support z values while feature has z values.\");if(e.geometry.hasM&&!1===t.capabilities?.data.supportsM)throw new a(`${t.type}-layer:m-unsupported`,\"Layer does not support m values while feature has m values.\")}}function j(e,t){if(\"geometry\"in e&&\"mesh\"===e.geometry?.type&&null!=t.infoFor3D&&null!=t.spatialReference){const{geometry:r}=e,{spatialReference:s,vertexSpace:i}=r,n=t.spatialReference,o=\"local\"===i.type,l=d(n),h=u(n,s),m=h||p(n)&&(p(s)||c(s));if(!(o&&l&&m||!o&&!l&&h))throw new a(`${t.type}-layer:mesh-unsupported`,`Uploading a mesh with a ${i.type} vertex space and a spatial reference wkid:${s.wkid} to a layer with a spatial reference wkid:${n.wkid} is not supported.`)}}function O(e,t,a,r){R(e,t,a,r),j(e,t)}function U(e,t,a,r){R(e,t,a,r)}function k(e,t,r,s){R(e,t,r,s),j(e,t);const i=b(t);if(\"geometry\"in e&&null!=e.geometry&&!i?.editing.supportsGeometryUpdate)throw new a(`${t.type}-layer:unsupported-operation`,\"Layer does not support geometry updates.\")}function L(e,t){const{feature:r,attachment:s}=e;if(!r||\"attributes\"in r&&!r.attributes[t.globalIdField])throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to a feature with 'globalId'\");if(!(\"attributes\"in r)&&!r.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have reference to 'globalId' of the parent feature\");if(!s.globalId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'globalId'\");if(!s.data&&!s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment should have 'data' or 'uploadId'\");if(!(s.data instanceof File&&!!s.data.name)&&!s.name)throw new a(`${t.type}-layer:invalid-parameter`,\"'name' is required when attachment is specified as Base64 encoded string using 'data'\");if(!t.capabilities?.editing.supportsUploadWithItemId&&s.uploadId)throw new a(`${t.type}-layer:invalid-parameter`,\"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'\");if(\"string\"==typeof s.data){const e=n(s.data);if(e&&!e.isBase64)throw new a(`${t.type}-layer:invalid-parameter`,\"Attachment 'data' should be a Blob, File or Base64 encoded string\")}}function T(e,t){const{attributes:a}=e;null==a[t]&&(a[t]=o())}async function B(e){const t=e.addFeatures??[],a=e.updateFeatures??[],r=t.concat(a).map(e=>e.geometry),s=await l(r),i=t.length,n=a.length;return s.slice(0,i).forEach((e,a)=>t[a].geometry=e),s.slice(i,i+n).forEach((e,t)=>a[t].geometry=e),e}function D(e){return{addFeatures:Array.from(e?.addFeatures??[]),updateFeatures:Array.from(e?.updateFeatures??[]),deleteFeatures:e&&t.isCollection(e.deleteFeatures)?e.deleteFeatures.toArray():e.deleteFeatures||[],addAttachments:e.addAttachments||[],updateAttachments:e.updateAttachments||[],deleteAttachments:e.deleteAttachments||[]}}function G(e,t,r){const s=D(e);if(s.addFeatures?.length&&!t.operations.supportsAdd)throw new a(`${r}:unsupported-operation`,\"Layer does not support adding features.\");if(s.updateFeatures?.length&&!t.operations.supportsUpdate)throw new a(`${r}:unsupported-operation`,\"Layer does not support updating features.\");if(s.deleteFeatures?.length&&!t.operations.supportsDelete)throw new a(`${r}:unsupported-operation`,\"Layer does not support deleting features.\");return s.addFeatures=s.addFeatures.map(M),s.updateFeatures=s.updateFeatures.map(M),s.addAssetFeatures=[],s}function V(e,t,r,s,i,n){if(!(e&&(s||i)||r?.usingTelecomOperations))throw new a(`${n}:missing-parameters`,\"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required\");if(!t.editing.supportsGlobalId&&r?.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new a(`${n}:invalid-parameter`,\"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'\");if(!t.editing.supportsGlobalId&&i)throw new a(`${n}:invalid-parameter`,\"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'\");if(!r?.globalIdUsed&&i)throw new a(`${n}:invalid-parameter`,\"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true\")}function M(t){const a=new e;return t.attributes||(t.attributes={}),a.geometry=t.geometry,a.attributes=t.attributes,a}async function x(e,t){const{infoFor3D:r}=t;if(null==r)return;if(!y(r))throw new a(`${t.type}-layer:binary-gltf-asset-not-supported`,\"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.\");e.addAssetFeatures??=[];const{addAssetFeatures:s}=e;for(const a of e.addFeatures??[])z(a)&&s.push(a);for(const a of e.updateFeatures??[])z(a)&&s.push(a)}function z(e){return\"mesh\"===e?.geometry?.type}function q(e,t,r,s){if(!w(t))throw new a(`${e.type}-layer:no-editing-support`,\"Layer source does not support applyEdits capability\",{layer:e});if(!t.uploadAssets)throw new a(`${e.type}-layer:no-asset-upload-support`,\"Layer source does not support uploadAssets capability\",{layer:e});return t.uploadAssets(r,s)}export{$ as applyEdits,V as checkEditingCapabilities,I as isFeatureIdentifierArrayWithGlobalId,A as isFeatureIdentifierArrayWithObjectId,v as isFeatureIdentifierWithGlobalId,F as isFeatureIdentifierWithObjectId,D as normalizeCollections,G as normalizeEdits,B as normalizeGeometries,M as shallowCloneFeature,q as uploadAssets};\n"],"names":["t","map","i","editedFeatures","a","e","fromJSON","spatialReference","layerId","id","r","filter","async","m","geometry","s","attributes","type","transformFieldRoles","origin","c","p","vertexSpace","f","transform","u","g","b","y","isGeographic","R","d","h","o","n","I","l","originX","x","originY","originZ","z","translation","scale","rotation","translationX","translationY","translationZ","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ","rotationDeg","toJSON","Promise","all","addAttachments","updateAttachments","deleteAttachments","length","adds","updates","deletes","feature","attachment","globalId","name","contentType","data","uploadId","parentGlobalId","globalIdField","mediaType","File","objectId","objectIdField","getAttribute","assetMaps","addResults","success","getLogger","error","updateResults","attachments","addFeatureResults","updateFeatureResults","deleteFeatureResults","deleteResults","addAttachmentResults","updateAttachmentResults","deleteAttachmentResults","editMoment","code","description","original","current","j","details","raw","extendedCode","constructor","super","this","Object","prototype","String","circuits","moment","exceededTransferLimit","serviceEdits","readServiceEdits","JSON","stringify","query","method","path","json","write","Date","Number","writer","getTime","Boolean","w","applyEdits","F","A","every","v","$","arguments","undefined","gdbVersion","url","returnServiceEditsOption","promise","then","addedFeatures","updatedFeatures","deletedFeatures","addedAttachments","updatedAttachments","deletedAttachments","emit","result","results","edits","load","layer","options","addFeatures","updateFeatures","deleteFeatures","infoFor3D","usingTelecomOperations","editing","supportsGlobalId","globalIdUsed","usingFeatureServiceEndpoint","V","isVersioned","supportsRollbackOnFailure","rollbackOnFailureEnabled","warn","supportsReturnServiceEditsInSourceSpatialReference","returnServiceEditsInSourceSR","Array","from","isCollection","toArray","D","operations","supportsAdd","supportsUpdate","supportsDelete","M","addAssetFeatures","G","fields","forEach","T","O","supportsGeometryUpdate","k","U","L","push","B","S","E","historicMoment","globalIdToObjectId","editedFeatureResults","resolve","reject","MAX_SAFE_INTEGER","hasZ","capabilities","supportsZ","hasM","supportsM","wkid","supportsUploadWithItemId","isBase64","concat","slice","q","uploadAssets"],"sourceRoot":""}