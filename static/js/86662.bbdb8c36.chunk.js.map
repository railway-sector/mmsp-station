{"version":3,"file":"static/js/86662.bbdb8c36.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/GraphicsProcessor.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/RouteLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as i}from\"tslib\";import t from\"../../../../Graphic.js\";import e from\"../../../../core/Accessor.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import{destroyMaybe as s}from\"../../../../core/maybe.js\";import{isAbortError as n}from\"../../../../core/promiseUtils.js\";import{watch as o,sync as a,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as h}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as u}from\"../../../../core/support/UpdatingHandles.js\";import d from\"../../../../layers/Layer.js\";import{hydrateGraphic as y}from\"../../../../layers/graphics/hydratedFeatures.js\";import{getRenderingInfo as g,getRenderingInfoAsync as m}from\"../../../../renderers/support/renderingInfoUtils.js\";import{suspendResumeExtentOptimism as f}from\"./constants.js\";import{Graphics3DCore as b}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as C}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as w}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as V}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as j}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as v}from\"./graphicUtils.js\";import{normalizeHighlightTarget as G}from\"../support/highlightUtils.js\";import{hasLayerBasedScaleVisibility as E}from\"../../../support/layerViewUtils.js\";let S=class extends e{constructor(i){super(i),this.drapeSourcePriorityOffset=0,this.type=\"graphics-3d\",this.graphicsCore=null,this.drapeSourceType=1,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null,this._updatingHandles=new u}initialize(){const{layer:i}=this,t=\"effectiveScaleRange\"in i?i:null,e=!E()&&this.scaleVisibilityEnabled&&null!=t,r=new b({owner:this,layer:this.owner.layer,preferredUpdatePolicy:1,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:(i,t)=>new C({graphicsCoreOwner:this,graphicsCore:i,queryGraphicUIDsInExtent:t,elevationProvider:this.view.elevationProvider}),scaleVisibility:e?(i,e)=>new j({graphicsCoreOwner:this,layer:t,queryGraphicUIDsInExtent:e,graphicsCore:i,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:i=>new V(i)}});if(this._set(\"graphicsCore\",r),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new w({graphicsCoreOwner:this})),\"fullOpacity\"in this.owner){const i=this.owner;this._updatingHandles.add(()=>i.fullOpacity,()=>this.graphicsCore.opacityChange())}if(\"elevationInfo\"in i){const t=i;this._updatingHandles.add(()=>t.elevationInfo,(i,t)=>{h(i,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})}this._set(\"initializePromise\",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}async _initializeAsync(){try{await this.graphicsCore.initializePromise}catch(i){if(n(i))return;throw i}this.destroyed||(this.addHandles(o(()=>this.view.clippingArea,()=>this._updateClippingExtent(),a)),this._updateClippingExtent(),this._setupSuspendResumeExtent(),this.graphicsCore.startCreateGraphics())}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",s(this.frustumVisibility)),this._set(\"graphicsCore\",s(this.graphicsCore))}get layer(){return this.owner.layer}get layerViewUid(){return this.owner.uid}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get scaleVisibilitySuspended(){return!(null==this.scaleVisibility||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return null!=this.frustumVisibility&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||null!=this.scaleVisibility&&this.scaleVisibility.updating||null!=this.frustumVisibility&&this.frustumVisibility.updating||this._updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(i){this.graphicsCore.notifyGraphicGeometryChanged(i)}notifyGraphicVisibilityChanged(i){this.graphicsCore.notifyGraphicVisibilityChanged(i)}notifyContentGeometryUpdate(){this.owner.notifyContentGeometryUpdate?.()}getRenderingInfo(i,t,e){const r=g(i,{renderer:t,arcade:e});if(r?.color){const i=r.color;i[0]=i[0]/255,i[1]=i[1]/255,i[2]=i[2]/255}return r}getRenderingInfoAsync(i,t,e,r){return m(i,{renderer:t,arcade:e,...r})}getHit(i,t){if(this.owner.loadedGraphics){const e=this.owner.loadedGraphics.find(t=>t.uid===i);if(e){const i=this.layer instanceof d?this.layer:null,r=y(e,i,t);return{type:\"graphic\",graphic:r,layer:r.layer}}}return null}whenGraphicBounds(i,t){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(i,t):Promise.reject()}computeAttachmentOrigin(i,t){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(i,t):null}getSymbolLayerSize(i,t){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(i,t):null}maskOccludee(i){const t=this.graphicsCore?.objectStates;if(!t)return r();const{set:e,handle:s}=t.acquireOccludeeSet(null);return t.setUid(e,i.uid),s}highlight(i,e){const r=this.graphicsCore?.objectStates;if(!r)return O;const s=G(i);if(0===s.length)return O;if(s[0]instanceof t){const i=s.map(i=>i.uid),{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setUids(t,i),n}if(\"number\"==typeof s[0]){const i=s,{set:t,handle:n}=r.acquireHighlightSet(e,null);return r.setObjectIds(t,i),n}return O}_setupSuspendResumeExtent(){const{scaleVisibility:i,frustumVisibility:t}=this;if(null==i&&null==t)return;const e=({computedExtent:e,extentPadding:r})=>{this._suspendResumeExtent=v(e,this._suspendResumeExtent,f,r),null!=i&&i.setExtent(this._suspendResumeExtent),null!=t&&t.setExtent(this._suspendResumeExtent)};this.addHandles(o(()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding}),i=>e(i),l))}_updateClippingExtent(){const i=this.view.clippingArea;this.graphicsCore.setClippingExtent(i,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};i([p()],S.prototype,\"drapeSourcePriorityOffset\",void 0),i([p()],S.prototype,\"type\",void 0),i([p({constructOnly:!0})],S.prototype,\"owner\",void 0),i([p()],S.prototype,\"layer\",null),i([p()],S.prototype,\"layerViewUid\",null),i([p()],S.prototype,\"view\",null),i([p({constructOnly:!0})],S.prototype,\"graphicsCore\",void 0),i([p()],S.prototype,\"scaleVisibility\",null),i([p({constructOnly:!0})],S.prototype,\"frustumVisibility\",void 0),i([p()],S.prototype,\"elevationAlignment\",null),i([p()],S.prototype,\"scaleVisibilitySuspended\",null),i([p({readOnly:!0})],S.prototype,\"frustumVisibilitySuspended\",null),i([p()],S.prototype,\"suspended\",null),i([p({readOnly:!0})],S.prototype,\"updating\",null),i([p()],S.prototype,\"loadedGraphics\",null),i([p()],S.prototype,\"fullOpacity\",null),i([p()],S.prototype,\"slicePlaneEnabled\",null),i([p()],S.prototype,\"drapeSourceType\",void 0),i([p()],S.prototype,\"updatePolicy\",null),i([p({constructOnly:!0})],S.prototype,\"scaleVisibilityEnabled\",void 0),i([p({constructOnly:!0})],S.prototype,\"frustumVisibilityEnabled\",void 0),i([p()],S.prototype,\"initializePromise\",void 0),S=i([c(\"esri.views.3d.layers.graphics.GraphicsProcessor\")],S);const O=r();export{S as GraphicsProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{Evented as e}from\"../../../core/Evented.js\";import{signal as t}from\"../../../core/signal.js\";class s extends e{constructor(){super(...arguments),this._set=new Set,this._length=t(0)}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:2}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._length.value}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this._length.value=this._set.size,this.emit(\"after-changes\",{type:1}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this._length.value=this._set.size,this.emit(\"after-changes\",{type:2}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const t=[];for(const s of e)this._set.delete(s)&&t.push(s);t.length>0&&(this._length.value=this._set.size,this.emit(\"after-changes\",{type:2}),this.emit(\"change\",{added:[],removed:t}))}toArray(){return Array.from(this._set.values())}find(e){for(const t of this._set.values())if(e(t))return t}some(e){for(const t of this._set.values())if(e(t))return!0;return!1}forEach(e){this._set.forEach(t=>e(t))}}export{s as EventedSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as o}from\"tslib\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as r}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{const n=l;let c=class extends n{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,s=o.signal;this.addHandles(t(()=>o.abort())),await r(()=>this.view.defaultsFromMap?.heightModelInfoReady,s),e(s);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([s()],c.prototype,\"view\",void 0),o([s()],c.prototype,\"slicePlaneEnabled\",void 0),c=o([i(\"esri.views.3d.layers.LayerView3D\")],c),c};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import r from\"../../../core/Collection.js\";import t from\"../../../core/CollectionFlattener.js\";import{destroyMaybe as o}from\"../../../core/maybe.js\";import{initial as s,when as i,watch as a}from\"../../../core/reactiveUtils.js\";import{property as n}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";import l from\"../../../rest/support/DirectionLine.js\";import c from\"../../../rest/support/DirectionPoint.js\";import h from\"../../../rest/support/PointBarrier.js\";import u from\"../../../rest/support/PolygonBarrier.js\";import d from\"../../../rest/support/PolylineBarrier.js\";import m from\"../../../rest/support/RouteInfo.js\";import y from\"../../../rest/support/Stop.js\";import{LayerView3D as g}from\"./LayerView3D.js\";import{GraphicsProcessor as f}from\"./graphics/GraphicsProcessor.js\";import{LayerViewPerformanceInfo as w}from\"./support/LayerViewPerformanceInfo.js\";import{EventedSet as v}from\"../support/EventedSet.js\";import _ from\"../../layers/LayerView.js\";import{getHighlightName as j}from\"../../support/highlightOptionsUtils.js\";import{isInEffectiveScaleRange as b,hasLayerBasedScaleVisibility as G}from\"../../support/layerViewUtils.js\";import{projectWithZConversionSilent as S}from\"../../support/projectionUtils.js\";function V(e){return e instanceof l||e instanceof c||e instanceof h||e instanceof u||e instanceof d||e instanceof m||e instanceof y}let C=class extends(g(_)){constructor(){super(...arguments),this.type=\"route-3d\",this.loadedGraphics=new v,this._networkFeatureToGraphic=new Map,this._graphicToNetworkFeature=new Map,this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set(\"processor\",new f({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this._updatingHandles.addOnCollectionChange(()=>this._routeItems,e=>this._routeItemsChanged(e),s),\"local\"===this.view.viewingMode&&this.addResolvingPromise((async()=>this.fullExtentInLocalViewSpatialReference=await S(this.layer.fullExtent,this.view.spatialReference))()),this.addHandles(i(()=>this.view?.basemapTerrain?.ready,()=>()=>this.notifyChange(\"updating\"),{once:!0}))}destroy(){this._updatingHandles.removeAll(),this._networkFeatureToGraphic.clear(),this._graphicToNetworkFeature.clear(),this._set(\"processor\",o(this.processor)),this._get(\"_routeItems\")?.destroy()}get _routeItems(){return new t({getCollections:()=>[this.layer.pointBarriers,this.layer.polygonBarriers,this.layer.polylineBarriers,this.layer.stops,this.layer.directionLines,this.layer.directionPoints,null!=this.layer.routeInfo?new r([this.layer.routeInfo]):null]})}_routeItemsChanged(e){if(e.removed.length){this.loadedGraphics.removeMany(e.removed.map(e=>{const r=this._networkFeatureToGraphic.get(e);return this._networkFeatureToGraphic.delete(e),this._graphicToNetworkFeature.delete(r),r}));for(const r of e.removed)this.removeHandles(r)}if(e.added.length){this.loadedGraphics.addMany(e.added.map(e=>{const r=e.toGraphic();return this._networkFeatureToGraphic.set(e,r),this._graphicToNetworkFeature.set(r,e),r}));for(const r of e.added)this.addHandles([a(()=>r.geometry,(e,t)=>{this._updateGraphic(r,\"geometry\",e,t)}),a(()=>r.symbol,(e,t)=>{this._updateGraphic(r,\"symbol\",e,t)})],r)}}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}get visibleAtCurrentScale(){return G()?b(this.layer.effectiveScaleRange,this.view.scale):!this.processor?.scaleVisibilitySuspended}getSuspendInfo(){const e=super.getSuspendInfo();return e.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,e}getHit(e){const r=this.processor.getHit(e,null);if(\"graphic\"===r?.type){const e=this._graphicToNetworkFeature.get(r.graphic);if(e)return{type:\"route\",layer:this.layer,networkFeature:e}}return null}whenGraphicBounds(e,r){return this.processor.whenGraphicBounds(e,r)}computeAttachmentOrigin(e,r){return this.processor?.computeAttachmentOrigin(e,r)}getSymbolLayerSize(e,r){return this.processor.getSymbolLayerSize(e,r)}async queryGraphics(){return new r(this.loadedGraphics.toArray())}maskOccludee(e){return this.processor.maskOccludee(e)}highlight(e,r){return V(e)&&(e=this._networkFeatureToGraphic.get(e)),this.processor.highlight(e,j(r))}notifyContentGeometryUpdate(){this.emit(\"visible-geometry-changed\")}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||1}isUpdating(){return!(!this.processor?.updating&&this.view?.basemapTerrain?.ready)}get performanceInfo(){return new w(this.processor?.graphicsCore.usedMemory??0,this.loadedGraphics.length,-1,-1,0,this.processor?.graphicsCore.performanceInfo??null)}_updateGraphic(e,r,t,o){const s=this._networkFeatureToGraphic.get(e);s[r]=t,I.graphic=s,I.property=r,I.oldValue=o,I.newValue=t,this.processor?.graphicsCore.graphicUpdateHandler(I),I.graphic=null}};e([n()],C.prototype,\"_routeItems\",null),e([n()],C.prototype,\"loadedGraphics\",void 0),e([n({readOnly:!0})],C.prototype,\"legendEnabled\",null),e([n({readOnly:!0})],C.prototype,\"visibleAtCurrentScale\",null),e([n()],C.prototype,\"layer\",void 0),e([n({readOnly:!0})],C.prototype,\"processor\",void 0),e([n({type:Boolean})],C.prototype,\"slicePlaneEnabled\",void 0),C=e([p(\"esri.views.3d.layers.RouteLayerView3D\")],C);const I={graphic:null,property:null,oldValue:null,newValue:null},k=C;export{k as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.34/esri/copyright.txt for details.\n*/\nimport{__decorate as e}from\"tslib\";import{EventedAccessor as t}from\"../../core/Evented.js\";import{IdentifiableMixin as r}from\"../../core/Identifiable.js\";import i from\"../../core/Logger.js\";import{destroyMaybe as s}from\"../../core/maybe.js\";import{EsriPromiseMixin as n}from\"../../core/Promise.js\";import{property as l}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as p}from\"../support/layerViewUtils.js\";let d=class extends(r(n(t))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new a,this.layer=null,this.parent=null}initialize(){this.when().catch(e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";i.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}})}destroy(){this._updatingHandles=s(this._updatingHandles),this._set(\"parent\",null)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&p(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return p(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([l({readOnly:!0})],d.prototype,\"spatialReferenceSupported\",null),e([l()],d.prototype,\"view\",void 0),e([l()],d.prototype,\"fullOpacity\",null),e([l()],d.prototype,\"layer\",void 0),e([l()],d.prototype,\"parent\",void 0),e([l({readOnly:!0})],d.prototype,\"suspended\",null),e([l({readOnly:!0})],d.prototype,\"suspendInfo\",null),e([l({readOnly:!0})],d.prototype,\"legendEnabled\",null),e([l({type:Boolean,readOnly:!0})],d.prototype,\"updating\",null),e([l({readOnly:!0})],d.prototype,\"updatingProgress\",null),e([l()],d.prototype,\"updateSuspended\",null),e([l()],d.prototype,\"visible\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentScale\",null),e([l({readOnly:!0})],d.prototype,\"visibleAtCurrentTimeExtent\",null),d=e([o(\"esri.views.layers.LayerView\")],d);export{d as default};\n"],"names":["S","e","constructor","i","super","this","drapeSourcePriorityOffset","type","graphicsCore","drapeSourceType","scaleVisibilityEnabled","frustumVisibilityEnabled","_suspendResumeExtent","_updatingHandles","u","initialize","layer","t","E","r","b","owner","preferredUpdatePolicy","graphicSymbolSupported","componentFactories","elevationAlignment","C","graphicsCoreOwner","queryGraphicUIDsInExtent","elevationProvider","view","scaleVisibility","j","basemapTerrain","objectStates","V","_set","w","add","fullOpacity","opacityChange","elevationInfo","h","addPromise","elevationInfoChange","_initializeAsync","initializePromise","n","destroyed","addHandles","o","clippingArea","_updateClippingExtent","a","_setupSuspendResumeExtent","startCreateGraphics","destroy","s","frustumVisibility","layerViewUid","uid","scaleVisibilitySuspended","suspended","frustumVisibilitySuspended","updating","graphics3DGraphics","graphics3DGraphicsByObjectID","loadedGraphics","slicePlaneEnabled","updatePolicy","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","notifyContentGeometryUpdate","getRenderingInfo","g","renderer","arcade","color","getRenderingInfoAsync","m","getHit","find","d","y","graphic","whenGraphicBounds","Promise","reject","computeAttachmentOrigin","getSymbolLayerSize","maskOccludee","set","handle","acquireOccludeeSet","setUid","highlight","O","G","length","map","acquireHighlightSet","setUids","setObjectIds","_ref","computedExtent","extentPadding","v","f","setExtent","l","setClippingExtent","spatialReference","recreateAllGraphics","p","prototype","constructOnly","readOnly","c","arguments","Set","_length","clear","size","toArray","emit","added","removed","value","addMany","remove","delete","removeMany","push","Array","from","values","some","forEach","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","_","_networkFeatureToGraphic","Map","_graphicToNetworkFeature","fullExtentInLocalViewSpatialReference","processor","addOnCollectionChange","_routeItems","_routeItemsChanged","viewingMode","fullExtent","ready","notifyChange","once","removeAll","_get","getCollections","pointBarriers","polygonBarriers","polylineBarriers","stops","directionLines","directionPoints","routeInfo","get","removeHandles","toGraphic","geometry","_updateGraphic","symbol","legendEnabled","canResume","visibleAtCurrentScale","effectiveScaleRange","scale","getSuspendInfo","outsideOfView","networkFeature","queryGraphics","effectiveUpdatePolicy","isUpdating","performanceInfo","usedMemory","I","property","oldValue","newValue","graphicUpdateHandler","Boolean","k","spatialReferenceSupported","parent","when","catch","name","id","title","getLogger","error","opacity","suspendInfo","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}